<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presales Discovery & ROI Tool</title>
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBwdiI+PHBhdGggZD0iTTE1IDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY3WiIvPjxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAyIDJoNCIvPjxwYXRoGkQ9Ik0xMCA5SDh2NHoiLz48cGF0aCBkPSJNMTYgMTNINjZlLTgiLz48cGF0aCBkPSJNMTYgMTdoNCIvPjwvc3ZnPg==" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-gray-50 flex flex-col items-center p-4 font-sans text-gray-800">
    
    <div id="app-container" class="w-full max-w-4xl">
        <!-- Main Tool UI -->
        <div id="tool-ui" class="bg-white rounded-xl shadow-lg p-6 md:p-8">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-ms-blue mb-6">Discovery, Scorecard, Qualification & ROI Tool</h1>

            <!-- Role, Stream & Module Selection -->
            <div class="mb-8 p-4 bg-blue-100 rounded-lg shadow-md flex flex-col lg:flex-row items-center justify-center gap-4">
                <div class="w-full lg:w-1/3 flex flex-col items-center">
                    <label for="role-select" class="text-lg font-semibold text-blue-800 mb-2">Select Role:</label>
                    <div class="relative w-full">
                        <select id="role-select" class="block w-full px-4 py-2 pr-8 rounded-md border border-blue-300 bg-white text-gray-900 focus:outline-none focus:ring-2 ring-ms-blue appearance-none"></select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-blue-700"><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg></div>
                    </div>
                </div>
                <div class="w-full lg:w-1/3 flex flex-col items-center">
                    <label for="stream-select" class="text-lg font-semibold text-blue-800 mb-2">Select Business Stream:</label>
                    <div class="relative w-full">
                        <select id="stream-select" class="block w-full px-4 py-2 pr-8 rounded-md border border-blue-300 bg-white text-gray-900 focus:outline-none focus:ring-2 ring-ms-blue appearance-none"></select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-blue-700"><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg></div>
                    </div>
                </div>
                <div class="w-full lg:w-1/3 flex flex-col items-center">
                   <label for="module-select" class="text-lg font-semibold text-blue-800 mb-2">Select Module:</label>
                   <div class="relative w-full">
                       <select id="module-select" class="block w-full px-4 py-2 pr-8 rounded-md border border-blue-300 bg-white text-gray-900 focus:outline-none focus:ring-2 ring-ms-blue appearance-none">
                           <option value="">-- Choose Role & Stream First --</option>
                       </select>
                       <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-blue-700"><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg></div>
                   </div>
               </div>
            </div>

            <div id="app-content"><!-- Content will be dynamically loaded here by JavaScript --></div>

            <div class="mt-8 flex flex-col md:flex-row justify-center items-center gap-4">
                <button id="clear-form-button" class="flex items-center bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg">Clear Module Data</button>
                <div class="flex flex-col items-center p-4 bg-blue-50 rounded-lg shadow-sm">
                    <p class="font-semibold text-blue-800 mb-2">Export As:</p>
                    <div class="flex flex-wrap justify-center gap-4">
                        <label class="inline-flex items-center"><input type="radio" name="export-format" value="md" checked class="form-radio text-ms-blue"><span class="ml-2">Markdown</span></label>
                        <label class="inline-flex items-center"><input type="radio" name="export-format" value="txt" class="form-radio text-ms-blue"><span class="ml-2">Plain Text</span></label>
                        <label class="inline-flex items-center"><input type="radio" name="export-format" value="html" class="form-radio text-ms-blue"><span class="ml-2">HTML</span></label>
                        <label class="inline-flex items-center"><input type="radio" name="export-format" value="ai-prompt" class="form-radio text-ms-blue"><span class="ml-2">AI Prompt</span></label>
                    </div>
                    <button id="export-data-button" class="flex items-center bg-ms-blue hover:bg-ms-blue-dark text-white font-bold py-3 px-8 rounded-lg mt-4">Export Data</button>
                </div>
            </div>
            <div id="messages-container" class="mt-4 space-y-2">
                <div id="export-success-message" class="hidden bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center" role="alert"><span>Data exported successfully!</span></div>
                <div id="copy-success-message" class="hidden bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-lg flex items-center" role="alert"><span>Values copied to ROI Calculator!</span></div>
                <div id="validation-error-message" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg flex items-center justify-between" role="alert"><span>Please ensure all required fields are filled for ROI calculation.</span><button id="close-validation-error" class="ml-4 text-red-700 hover:text-red-900">X</button></div>
            </div>
        </div>

        <!-- Admin Panel UI (Initially Hidden) -->
        <div id="admin-ui" class="hidden bg-white rounded-xl shadow-lg p-6 md:p-8">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-ms-blue mb-2">Admin Panel</h1>
            <h2 class="text-xl text-center text-gray-600 mb-6">Qualification Thresholds for: <span id="admin-module-name" class="font-semibold"></span></h2>
            <div id="admin-content" class="space-y-4"></div>
            <div class="mt-8 flex justify-center gap-4">
                <button id="admin-back-button" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg">Back to Tool</button>
                <button id="admin-save-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg">Save Changes</button>
                <button id="admin-reset-button" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg">Reset to Defaults</button>
            </div>
        </div>
    </div>
    
    <!-- Modal & Footer -->
    <div id="confirmation-modal" class="modal hidden"><div class="modal-content"><p class="text-lg font-semibold mb-4">Are you sure you want to clear all data for this module?</p><div class="flex justify-center gap-4"><button id="confirm-clear-button" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-5 rounded-lg">OK</button><button id="cancel-clear-button" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-5 rounded-lg">Cancel</button></div></div></div>
    <footer class="mt-8 text-center">
        <button id="admin-button" class="text-gray-500 hover:text-ms-blue text-sm underline">Admin</button>
        <p class="text-gray-500 text-sm mt-2">(c) Brad Whatman 2025</p>
    </footer>

    <!-- External JavaScript -->
    <script src="script.js"></script>
</body>
</html>
